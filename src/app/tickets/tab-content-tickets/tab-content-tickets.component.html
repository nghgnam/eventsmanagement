<div class="tab-content-container">
  <h2 class="section-header">{{ sectionHeader }}</h2>
  <p class="subsection-header">{{ subsectionHeader }}</p>

  @if (isLoading) {
    <div class="loading">
      <p>Loading events...</p>
    </div>
  }

  @if (mode === 'single') {
    <div style="margin-bottom: 20px;">
      @if (!isLoading && getSingleList.length > 0) {
        <div class="event-list">
          @for (event of getSingleList; track event.id) {
            <div class="event-card">
              <div class="event-image">
                <img [src]="getSafeUrl(event.image_url)" alt="{{ event.name }}" />
              </div>
              <div class="event-details">
                <h3 class="event-title">{{ event.name }}</h3>
                <p class="event-date">
                  <strong>Date:</strong> {{ event.date_time_options[0].start_time | date: 'medium' }}
                </p>
                <p class="event-location">
                  <strong>Location:</strong> {{ event.location.address }}
                </p>
                <p class="event-status" [class]="ticketStatus[event.id ?? 'unknown']">
                  <strong>Status:</strong> {{ ticketStatus[event.id ?? 'unknown'] | titlecase }}
                </p>
              </div>
              <div class="event-actions">
                <button (click)="viewDetails(event.id)">View Details</button>
              </div>
            </div>
          }
        </div>
      } @else {
        <div class="no-data">
          <p>No events available for this category.</p>
        </div>
      }
    </div>
  }
  
  @if (mode === 'multiple') {
    @for (group of getGroupEventData(); track group.label) {
      @if (group.events.length > 0) {
        <h3 style="padding-top: 12px; border-top: 1px solid #ccc;">{{ group.label }}</h3>
        <div class="event-list">
          @for (event of group.events; track event.id) {
            <div class="event-card">
              <div class="event-image">
                <img [src]="getSafeUrl(event.image_url)" alt="{{ event.name }}" />
              </div>
              <div class="event-details">
                <h3 class="event-title">{{ event.name }}</h3>
                <p><strong>Ngày:</strong> {{ event.date_time_options[0].start_time | date: 'medium' }}</p>
                <p><strong>Địa điểm:</strong> {{ event.location.address }}</p>
                <p><strong>Trạng thái:</strong> {{ ticketStatus[event.id ?? 'unknown'] | titlecase }}</p>
              </div>
              <div class="event-actions">
                <button (click)="viewDetails(event.id)">Chi tiết</button>
              </div>
            </div>
          }
        </div>
      }
    }
  }
</div>
