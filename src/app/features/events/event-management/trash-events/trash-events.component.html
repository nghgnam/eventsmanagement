<div class="trash-events-container">
    <h2>Cancelled Events</h2>
    
    @if (isLoading) {
      <div class="loading-spinner">
        <i class="fas fa-spinner fa-spin"></i> Loading...
      </div>
    }

    @if (errorMessage) {
      <div class="error-message">
        {{ errorMessage }}
      </div>
    }

    @if (!isLoading && cancelledEvents.length > 0) {
      <div class="events-grid">
        @for (event of cancelledEvents; track event.id) {
          <div class="event-card">
            <div class="event-image">
              @if (event.image_url) {
                <img [src]="getSafeUrl(event.image_url)" [alt]="event.name">
              }
              @if (!event.image_url) {
                <div class="no-image">
                  <i class="fas fa-image"></i>
                </div>
              }
            </div>
            <div class="event-details">
              <h3>{{ event.name }}</h3>
              <p class="event-description">{{ event.description }}</p>
              <div class="event-info">
                <p><i class="fas fa-calendar"></i> {{ formatDate(event.date_time_options[0].start_time) }}</p>
                <p><i class="fas fa-map-marker-alt"></i> {{ event.location.address }}</p>
              </div>
              <div class="event-actions">
                <button class="btn-restore" (click)="restoreEvent(event)">
                  <i class="fas fa-rotate-left"></i> Restore Event
                </button>
              </div>
            </div>
          </div>
        }
      </div>
    }

    @if (!isLoading && cancelledEvents.length === 0) {
      <div class="no-events">
        <p>No cancelled events found.</p>
      </div>
    }
</div>
